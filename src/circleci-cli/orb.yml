version: 2.1
description: |
  Installs and configures CircleCI's command-line interface

  View the source for this orb on GitHub: https://github.com/CircleCI-Public/circleci-orbs/blob/master/src/circleci-cli/orb.yml

  View this orb in CircleCI's orb registry: https://circleci.com/orbs/registry/orb/circleci/circleci-cli

commands:
  install:
    steps:
      - run:
          name: "Install `circleci` CLI"
          command: |
            sudo bash -c "$(curl -fSl https://raw.githubusercontent.com/CircleCI-Public/circleci-cli/master/install.sh)"
            echo "Print the circleci version"
            circleci version
            echo "Run circleci help"
            circleci help
executors:
  default:
    description:
      Uses the circleci-cli image, which includes the `circleci` command.
    parameters:
      tag:
        type: string
        default: "latest"
    docker:
      - image: circleci/circleci-cli:<< parameters.tag >>
